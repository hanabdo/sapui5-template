<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: lib/debug.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: lib/debug.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @requires zcust.lib.common
 * @requires zcust.lib.thirdparty.Base64
 */
jQuery.sap.require('zcust.lib.common');
jQuery.sap.require('zcust.lib.thirdparty.Base64');
jQuery.sap.declare('zcust.lib.debug');

/**
 * @namespace zcust.lib.debug
 */
zcust.lib.debug = {
  /**
   * @todo move to zcust.lib.common.storeLoadedData
   *
   * @param oModel
   * @param url
   */
  storeLoadedData: function (oModel, url) {
    // store all data for using in mock
    // @todo run this code only in dev environment
    setTimeout(function () {
      if (typeof zcust.lib.debug.loadedData === 'undefined') {
        try {
          zcust.lib.debug.loadedData = {};
          zcust.lib.debug.loadedData.hashTable = {};
        } catch (e) {
          return;
        }
      };
      zcust.lib.debug.loadedData[zcust.lib.common.getHash(url)] = oModel.oData;
      zcust.lib.debug.loadedData.hashTable[zcust.lib.common.getHash(url)] =
          url.match(/[^\/]*$/)[0];
    }.bind(this));
  },

  /**
   * @param {object}
   * @param {string}
   */
  addLinkToDownloadJSONObject: function (object, sId) {
    if (typeof sId === 'undefined') {
      sId = '#content';
    }

    var data = 'text/json;charset=utf-8,' +
        encodeURIComponent(
            JSON.stringify(object, undefined, 4)
        );

    $('&lt;a href="data:' + data + '" download="data.json">download JSON&lt;/a>')
      .appendTo(sId);
  },

  /**
   * download loaded data as JSON file
   */
  downloadEncodedLoadedData: function () {
    var iMax = 50;
    var oSliced = {};

    for (var i in zcust.lib.debug.loadedData) {
      var aItem = zcust.lib.debug.loadedData[i];
      if (aItem.slice !== 'undefined' &amp;&amp; aItem.length > iMax) {
        oSliced[i] = aItem.slice(aItem.length - iMax);
      } else {
        oSliced[i] = aItem;
      }
    }

    var data = 'text/json;charset=utf-8,' +
        encodeURIComponent(
            zcust.lib.thirdparty.Base64.encode(
                JSON.stringify(oSliced)
            )
        );

    $('&lt;a href="data:' + data + '" download="data.json">download JSON&lt;/a>')
      .appendTo('#content');
  },

  /**
   * obj2 will be merged into obj1
   * @param {object} obj1 merged into
   * @param {object} obj2 merged from
   */
  mergeMockData: function (obj1, obj2) {
    for (var i in obj2) {
      obj1[i] = obj2[i];
    }
  },

  /**
   * @param {string}
   */
  downloadDecodedLoadedData: function (sEncodedData) {
    var data = 'text/json;charset=utf-8,' +
        encodeURIComponent(
            JSON.stringify(
                JSON.parse(zcust.lib.thirdparty.Base64.decode(sEncodedData)),
                undefined,
                4
            )
        );
    $('&lt;a href="data:' + data + '" download="data.json">download JSON&lt;/a>')
      .appendTo('#content');
  },
  /**
   * @param {string}
   * @return {object}
   */
  decodeLoadedData: function (sEncodedData) {
    return JSON.parse(zcust.lib.thirdparty.Base64.decode(sEncodedData));
  },

  /**
   * open loaded data in new window
   * @param {string}
   */
  showMockData: function (sUrl) {
    var url = 'data:text/json;charset=utf8,' +
        encodeURIComponent(
            JSON.stringify(zcust.lib.debug.loadedData, undefined, 4)
        );
    window.open(url, '_blank');
    window.focus();
  },

};
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="sampleapp.Component.html">Component</a></li><li><a href="sampleapp.mods.main.controller.App.html">App</a></li><li><a href="sampleapp.mods.main.controller.Detail.html">Detail</a></li><li><a href="sampleapp.mods.main.controller.Main.html">Main</a></li><li><a href="sampleapp.mods.main.model.gSettings.html">gSettings</a></li><li><a href="sampleapp.TopRouter.html">TopRouter</a></li><li><a href="zcust.lib.Controller.html">Controller</a></li><li><a href="zcust.lib.JSONModel.html">JSONModel</a></li></ul><h3>Namespaces</h3><ul><li><a href="zcust.lib.debug.html">debug</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.2</a> on Mon Aug 10 2015 01:03:05 GMT+0300 (MSK)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
